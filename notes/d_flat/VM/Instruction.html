<!DOCTYPE html>
<html lang="en-US">
<head>
  <meta charset="UTF-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>Instruction Specification</title>
  <link href="/schemas/page.css" rel="stylesheet"/>
  <link href="/math-block.css" rel="stylesheet"/>
  <link href="/math-inline.css" rel="stylesheet"/>
  <link href="/mathyml.css" rel="stylesheet"/>
  <link href="/inline-fold.css" rel="stylesheet"/>
  <link crossorigin="true" href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css2?family=Inria+Sans:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@700&display=swap" rel="stylesheet">
  
  <link href="/components/sidebar.css" rel="stylesheet">
  <script>
    setInterval(async () => {
      const res = await fetch('/_reload')
      if (await res.text() === '1') {
        location.reload()
      }
    }, 500)
  </script>
  <link href="/rewrite/code_inline.css" rel="stylesheet">
  <link href="/rewrite/code_block.css" rel="stylesheet">
  
  <link href="https://fred-wang.github.io/MathFonts/NewComputerModern/mathfonts.css" rel="stylesheet">
</head>
<body>

  <header class="header" parent="true">
    <nav class="nav">
      <div class="logo">
        <span onclick="window.location.href='/notes/d_flat/VM&Assembler'" title="VM & Assembler for Project D-Flat [/notes/d_flat/VM&Assembler]">« VM & Assembler for Project D-Flat</span>
      </div>
    </nav>
  </header>
  <div id="grid-wrapper" sidebar="true">
    <article>
      <section class="block" id="notes/d_flat/VM/Instruction">
        <details open="">
          <summary>
            <header class="top-header" show-metadata="true">
              <h1>
                Instruction Specification 
              </h1>
              <div class="metadata">
                <ul>
                  <li class="meta-item">
                    <span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span>
                  </li>
                  <li class="meta-item">
                    2025-12-14 23:46
                  </li>
                  <li class="meta-item">
                    <span class="link local"><a href="https://github.com/mujiu555/Wishful-Thinking/tree/main/site" title="Source [https://github.com/mujiu555/Wishful-Thinking/tree/main/site]">Source</a></span>
                  </li>
                </ul>
              </div>
            </header>
          </summary>
          <p>All Instruction adopted in the virtual machine are 32-bits length-fixed.</p>
    <p>The instruction have four type of addressing method:</p>
    <ul>
      <li>None addressing: no parameter is accepted</li>
      <li>Register addressing: parameter is a register</li>
      <li>Immediate addressing: parameter is a literal value</li>
      <li>Memory addressing: parameter is a memory address</li>
    </ul>
    <p>From all above addressing methods, the instruction can be divided into following categories:</p>
    <ul>
      <li>
        <p>Zero operand instruction: no parameter</p>
      </li>
      <li>
        <p>Register operand instruction: only register parameter</p>
      </li>
      <li>
        <p>Immediate operand instruction: only literal parameter</p>
      </li>
      <li>
        <p>Memory operand instruction: only memory address parameter</p>
      </li>
      <li>
        <p>Register-Register operand instruction: two register parameters</p>
      </li>
      <li>
        <p>Register-Immediate operand instruction: one register parameter, one literal parameter</p>
      </li>
      <li>
        <p>Immediate-Register operand instruction: one literal parameter, one register parameter</p>
      </li>
      <li>
        <p>Register-Memory operand instruction: one register parameter, one memory address parameter</p>
      </li>
      <li>
        <p>Memory-Register operand instruction: one memory address parameter, one register parameter</p>
      </li>
      <li>
        <p>Memory-Memory operand instruction: two memory address parameters</p>
      </li>
      <li>
        <p>Immediate-Immediate operand instruction: two literal parameters</p>
      </li>
      <li>
        <p>Memory-Immediate operand instruction: one memory address parameter, one literal parameter</p>
      </li>
      <li>
        <p>Register-Register-Register operand instruction: three register parameters</p>
      </li>
    </ul>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">              20          1a          18      10            09    06          00
</span><span style="color:#5c6a72;">Default       | register  | register  | register  |         | typ | operator  |
</span><span style="color:#5c6a72;">              | register  | register  |                     | typ | operator  |
</span><span style="color:#5c6a72;">              | register  |                                 | typ | operator  |
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#5c6a72;">Register      | register  | flags                           | typ | operator  |
</span><span style="color:#5c6a72;">Immediate     | literal                       | flags       | typ | operator  |
</span><span style="color:#5c6a72;">RR            | register  | register  | flags               | typ | operator  |
</span><span style="color:#5c6a72;">RI            | register  | literal                     |   | typ | operator  |
</span><span style="color:#5c6a72;">IR            | register  | literal                     |   | typ | operator  |
</span><span style="color:#5c6a72;">II            | literal       | literal       | flags       | typ | operator  |
</span><span style="color:#5c6a72;">RRR           | register  | register  | register  | flags   | typ | operator  |
</span><span style="color:#5c6a72;">RRI           | register  | register  | literal       |flags| typ | operator  |
</span><span style="color:#5c6a72;">RIR           | register  | register  | literal       |flags| typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction pattern, distinguish by instruction type
</span><span style="color:#5c6a72;">* RRI and RIR are two variant of same instruction pattern, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">              20          1a          18      10            09    06          00
</span><span style="color:#d3c6aa;">Default       | register  | register  | register  |         | typ | operator  |
</span><span style="color:#d3c6aa;">              | register  | register  |                     | typ | operator  |
</span><span style="color:#d3c6aa;">              | register  |                                 | typ | operator  |
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#d3c6aa;">Register      | register  | flags                           | typ | operator  |
</span><span style="color:#d3c6aa;">Immediate     | literal                       | flags       | typ | operator  |
</span><span style="color:#d3c6aa;">RR            | register  | register  | flags               | typ | operator  |
</span><span style="color:#d3c6aa;">RI            | register  | literal                     |   | typ | operator  |
</span><span style="color:#d3c6aa;">IR            | register  | literal                     |   | typ | operator  |
</span><span style="color:#d3c6aa;">II            | literal       | literal       | flags       | typ | operator  |
</span><span style="color:#d3c6aa;">RRR           | register  | register  | register  | flags   | typ | operator  |
</span><span style="color:#d3c6aa;">RRI           | register  | register  | literal       |flags| typ | operator  |
</span><span style="color:#d3c6aa;">RIR           | register  | register  | literal       |flags| typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction pattern, distinguish by instruction type
</span><span style="color:#d3c6aa;">* RRI and RIR are two variant of same instruction pattern, distinguish by instruction type</span></code></pre>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/IS-1">1</span>
 
      <span class="taxon"></span> Instruction Set
 <a class="slug" href="/notes/d_flat/VM/Instruction/IS" title="Instruction Set [/notes/d_flat/VM/Instruction/IS]">[IS]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p>The instruction set includes following instructions:</p>
    <ul>
      <li>
        <p>Interrupt and Exception Handling</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span>: interrupt invoke instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:int idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:int idx</span></code>
</span>: invoke interrupt with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span></li>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:int reg</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:int reg</span></code>
</span>: invoke interrupt with address stored in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">reg</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">reg</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Snapshot Exception Handling</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span>: snapshot exception invoke instruction</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:snap</span></code>
</span>: invoke snapshot exception</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span>: raise exception instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:raise code</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:raise code</span></code>
</span>: raise exception with code <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">code</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">code</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Data Management</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span>: move data instruction</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov s dst, shl d(src)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov s dst, shl d(src)</span></code>
</span>: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, shift left by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span> bits, padding with 0 or 1 by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">+</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">+</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">-</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">-</span></code>
</span>.</li>
              <li>RI, RI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov offset dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov offset dst, val</span></code>
</span>: move immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">low16</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">low16</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">high16</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">high16</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">low16h</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">low16h</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">high16h</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">high16h</span></code>
</span> for low 16 or high 16 bits in totally low 32 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> or low 16 or high 16 bits in totally high 32 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>. E.g., <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov l Reg#1, 0xffff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov l Reg#1, 0xffff</span></code>
</span> assigns low 16 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#1</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0xffff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0xffff</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov l Reg#1, 0x8fff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov l Reg#1, 0x8fff</span></code>
</span> assigns low 16 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#1</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x8fff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x8fff</span></code>
</span>, with other version of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov offset dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov offset dst, ptr[src]</span></code>
</span>: deference memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> and move data to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span> for target data offset E.g., <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov ah, ptr[rbx]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov ah, ptr[rbx]</span></code>
</span> in x86_64 assembly can be represented as <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov 1 ah, bytes ptr[Reg#1]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov 1 ah, bytes ptr[Reg#1]</span></code>
</span>, meanwhile <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov eax, ptr[rbx]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov eax, ptr[rbx]</span></code>
</span> can be represented as <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov 0 eax, dword ptr[Reg#1]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov 0 eax, dword ptr[Reg#1]</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr[dst], offset src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr[dst], offset src</span></code>
</span>: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span> for source data offset E.g., <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov ptr[rbx], ah</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov ptr[rbx], ah</span></code>
</span> in x86_64 assembly can be represented as <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov 1[Reg#1], 1 ah</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov 1[Reg#1], 1 ah</span></code>
</span>, meanwhile <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov ptr[rbx], eax</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov ptr[rbx], eax</span></code>
</span> can be represented as <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov 4[Reg#1], 0 eax</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov 4[Reg#1], 0 eax</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr [dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr [dst], [src]</span></code>
</span>: move data from memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size</li>
              <li>RRI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov dst, ptr[base + offset]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov dst, ptr[base + offset]</span></code>
</span>: move data from memory address calculated by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span> register plus immediate <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></li>
              <li>RIR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr[base + offset], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr[base + offset], src</span></code>
</span>: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address calculated by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span> register plus immediate <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span></li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span>: load / save data instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:lsd op idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:lsd op idx</span></code>
</span>: load or save data between global data stack and register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span></li>
            </ul>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">load</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">load</span></code>
</span>: load data from global data stack to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">save</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">save</span></code>
</span>: save data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> to global data stack</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadr</span></code>
</span>: load data from global data stack to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">saver</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">saver</span></code>
</span>: save data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> to global data stack</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadc</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadc</span></code>
</span>: load pre-defined data to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Arithmetic Computation</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span>: arithmetic integer computation</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li>RI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, val</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li>IR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op val, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op val, src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, ptr[src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op ptr[dst], src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op prt[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op prt[dst], [src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
            </ul>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">add</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">add</span></code>
</span>: addition</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">sub</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">sub</span></code>
</span>: subtraction</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mul</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mul</span></code>
</span>: multiplication</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">div</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">div</span></code>
</span>: division</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span>: arithmetic floating-point computation</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op dst, src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op dst, ptr[src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op ptr[dst], src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op ptr[dst], [src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf fmod dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf fmod dst, src</span></code>
</span>: perform floating-point modulus operation on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf fmod ptr [dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf fmod ptr [dst], [src]</span></code>
</span>: perform floating-point modulus operation on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
            </ul>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">fadd</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">fadd</span></code>
</span>: floating-point addition</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">fsub</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">fsub</span></code>
</span>: floating-point subtraction</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">fmul</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">fmul</span></code>
</span>: floating-point multiplication</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">fdiv</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">fdiv</span></code>
</span>: floating-point division</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span>: arithmetic bitwise computation</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, val</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, ptr[src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], src</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], [src]</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], val</span></code>
</span>: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
            </ul>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">and</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">and</span></code>
</span>: bitwise AND</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">or</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">or</span></code>
</span>: bitwise OR</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">xor</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">xor</span></code>
</span>: bitwise XOR</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">not</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">not</span></code>
</span>: bitwise NOT</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span>: arithmetic shift computation</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op dst, src</span></code>
</span>: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> bits, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op dst, ptr[src]</span></code>
</span>: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> bits, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op ptr[dst], src</span></code>
</span>: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> bits, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op ptr[dst], [src]</span></code>
</span>: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> bits, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
            </ul>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span>: shift left</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shr</span></code>
</span>: shift right</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">sal</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">sal</span></code>
</span>: shift arithmetic left</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">sar</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">sar</span></code>
</span>: shift arithmetic right</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">rol</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">rol</span></code>
</span>: rotate left</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ror</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ror</span></code>
</span>: rotate right</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">rcl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">rcl</span></code>
</span>: rotate through carry left</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">rcr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">rcr</span></code>
</span>: rotate through carry right</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Condition Test and Branch</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span>: condition test instruction</p>
            <ul>
              <li>II, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:text cond, jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:text cond, jmp</span></code>
</span>: test condition <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">cond</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">cond</span></code>
</span>, if true, jump to near address with offset <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">jmp</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Control Flow Jump</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span>: control flow jump instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp:near offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp:near offset</span></code>
</span>: jump to near address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> with offset</li>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp:short dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp:short dst</span></code>
</span>: jump to short address stored in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></li>
              <li>RI, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp:far segment : offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp:far segment : offset</span></code>
</span>: jump to far address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span> in function unit <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">segment</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">segment</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Loop Control</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span>: loop control instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:loop offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:loop offset</span></code>
</span>: decrement <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#C</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#C</span></code>
</span> by one, if not zero, jump to near address with offset</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Function Call and Return</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span>: function call instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:call idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:call idx</span></code>
</span>: call function with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> in function unit vector</li>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:call dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:call dst</span></code>
</span>: call function with address stored in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span>: function return instruction</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ret</span></code>
</span>: return from current function</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span>: interrupt return instruction</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:iret</span></code>
</span>: return from interrupt</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span>: register new function instruction</p>
            <ul>
              <li>RR, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:regf skip, len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:regf skip, len</span></code>
</span>: register new function unit with code length <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">len</span></code>
</span> in bytes, skip first <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">skip</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">skip</span></code>
</span> bytes in global data stack</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Stack Management</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Stack</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Stack</span></code>
</span>: stack management instruction</p>
            <ul>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack alloc size</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack alloc size</span></code>
</span>: allocate stack space with size <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">size</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">size</span></code>
</span> bytes</li>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack free size</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack free size</span></code>
</span>: free stack space with size <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">size</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">size</span></code>
</span> bytes</li>
              <li>Zero, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack clear</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack clear</span></code>
</span>: clear current function stack frame</li>
              <li>Zero, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack dump</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack dump</span></code>
</span>: dump current stack frame information for debugging</li>
              <li>Zero, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack create</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack create</span></code>
</span>: create a new function stack frame</li>
              <li>Zero, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack destroy</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack destroy</span></code>
</span>: destroy current function stack frame and return to previous function stack frame</li>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack duplicate idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack duplicate idx</span></code>
</span>: duplicate current stack segment, and update <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#SS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#SS</span></code>
</span> to point to new stack segment, store previous stack segment pointer into global data stack at index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span></li>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:stack restore idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:stack restore idx</span></code>
</span>: restore previous stack segment from global data stack at index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span>, and update <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#SS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#SS</span></code>
</span> to point to restored stack segment</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Push</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Push</span></code>
</span>: push data onto stack instruction</p>
            <ul>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:push src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:push src</span></code>
</span>: push data from register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> onto stack</li>
              <li>I, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:push val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:push val</span></code>
</span>: push immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> onto stack</li>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:push ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:push ptr[src]</span></code>
</span>: push data from memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> onto stack</li>
            </ul>
          </li>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Pop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Pop</span></code>
</span>: pop data from stack instruction</p>
            <ul>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:pop dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:pop dst</span></code>
</span>: pop data from stack into register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></li>
              <li>R, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:pop ptr[dst]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:pop ptr[dst]</span></code>
</span>: pop data from stack into memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Int-2">2</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Int" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span> [/notes/d_flat/VM/Instruction/Int]">[Int]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span> instruction is used to invoke interrupt.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>There are two variant of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span> instruction:</p>
    <ul>
      <li>
        <p>Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:int reg</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:int reg</span></code>
</span></li>
          <li>Description: invoke interrupt with address stored in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">reg</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">reg</span></code>
</span></li>
        </ul>
      </li>
      <li>
        <p>Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:int idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:int idx</span></code>
</span></li>
          <li>Description: invoke interrupt with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span></li>
        </ul>
      </li>
    </ul>
    <p>No flags used.</p>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">int</span></code>
</span> instruction will save current execution status, and jump to interrupt handler function unit. All registers will be pushed into global data stack. The interrupt handler function unit will return to previous execution status by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">iret</span></code>
</span> instruction.</p>
    <p>Apart from 6 bits operator code and 3 bits type code, the rest 17 bits in R case, and rest 7 bits in I case must be 0. Otherwise, invalid instruction exception will be raised automatically.</p>
    <p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> in immediate variant is a 15 bits unsigned integer. If <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> larger than <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0xff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0xff</span></code>
</span>, invalid interrupt exception will be raised automatically.</p>
    <p>There are some pre-defined interrupt index:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x00</span></code>
</span>: Exception Interrupt</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x01</span></code>
</span>: System Call Interrupt</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0xff</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0xff</span></code>
</span>: Halt Interrupt</li>
    </ul>
    <p>For case with register variant, the value in register must be aligned to 4 bytes. With unaligned address will raise invalid interrupt exception automatically. Treat the value in register as address in global data stack segment. And invoke interrupt handler function unit from that address.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Snap-3">3</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Snap" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span> [/notes/d_flat/VM/Instruction/Snap]">[Snap]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span> instruction is used to invoke snapshot exception.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Zero          |                                           |f| typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Zero          |                                           |f| typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span> instruction have no parameter.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:snap flags</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:snap flags</span></code>
</span></li>
      <li>Description: invoke snapshot exception</li>
    </ul>
    <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">flags</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">flags</span></code>
</span> in syntax can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">full</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">full</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">light</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">light</span></code>
</span>, indicating full snapshot or light snapshot. If flags is omitted, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">full</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">full</span></code>
</span> is assumed. If flags is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">full</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">full</span></code>
</span>, the flag bit <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">f</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">f</span></code>
</span> is set to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, otherwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>. If light snapshot invoked, only register records will be snapshotted.</p>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">snap</span></code>
</span> instruction will duplicate current global data stack segment, execution stack segment, and register records. Then snapshot exception may be handled by exception handler function unit. Snapshot restore must be handled by user program explicitly.</p>
    <p>Apart from 6 bits operator code and 3 bits type code, and 1 bits flag <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">f</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">f</span></code>
</span>, the rest 22 bits must be 0. Otherwise, invalid instruction exception will be raised automatically.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Raise-4">4</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Raise" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span> [/notes/d_flat/VM/Instruction/Raise]">[Raise]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span> instruction is used to raise exception.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span> instruction have one immediate parameter.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:raise code</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:raise code</span></code>
</span></li>
      <li>Description: raise exception with code <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">code</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">code</span></code>
</span></li>
    </ul>
    <p>No flag used.</p>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">raise</span></code>
</span> instruction will invoke exception handler function unit. Exception code will be passed to exception handler function unit via <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#FLAGS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#FLAGS</span></code>
</span>. Exception handler function unit may return to previous execution status by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">iret</span></code>
</span> instruction. Exception handler is a special interrupt handler.</p>
    <p>There are some pre-defined exception code:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x00</span></code>
</span>: General Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x01</span></code>
</span>: Invalid Instruction Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x02</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x02</span></code>
</span>: Invalid Operand Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x03</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x03</span></code>
</span>: Invalid Variation Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x04</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x04</span></code>
</span>: Arithmetic Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x05</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x05</span></code>
</span>: Division by Zero Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x06</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x06</span></code>
</span>: Shift Count Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x07</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x07</span></code>
</span>: Arithmetic Overflow Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x08</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x08</span></code>
</span>: Invalid Interrupt Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x09</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x09</span></code>
</span>: Invalid Function Call Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0A</span></code>
</span>: Invalid Parameter Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0B</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0B</span></code>
</span>: Invalid Memory Access Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0C</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0C</span></code>
</span>: Invalid Segment Access Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0D</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0D</span></code>
</span>: Invalid Register Access Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0E</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0E</span></code>
</span>: Stack Overflow Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x0F</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x0F</span></code>
</span>: Stack Underflow Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x10</span></code>
</span>: Invalid Register Access Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x11</span></code>
</span>: Snapshot Restore Exception</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0x12</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0x12</span></code>
</span>: Snapshot Exception</li>
    </ul>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Mov-5">5</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Mov" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span> [/notes/d_flat/VM/Instruction/Mov]">[Mov]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span> instruction is used to move data between registers and memory.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |k| l |d| shl       |s| typ | operator  |
</span><span style="color:#5c6a72;">RR(1)         | register  | register  |             |o  |ss | typ | operator  |
</span><span style="color:#5c6a72;">RI            | register  | literal                     |o  | typ | operator  |
</span><span style="color:#5c6a72;">IR            | register  | literal                     |o  | typ | operator  |
</span><span style="color:#5c6a72;">RRI           | register  | register  | literal       | |ss | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |k| l |d| shl       |s| typ | operator  |
</span><span style="color:#d3c6aa;">RR(1)         | register  | register  |             |o  |ss | typ | operator  |
</span><span style="color:#d3c6aa;">RI            | register  | literal                     |o  | typ | operator  |
</span><span style="color:#d3c6aa;">IR            | register  | literal                     |o  | typ | operator  |
</span><span style="color:#d3c6aa;">RRI           | register  | register  | literal       | |ss | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov s dst, shl d(src)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov s dst, shl d(src)</span></code>
</span></li>
          <li>Type code: 0, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, shift left by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span> bits, padding with 0 or 1 by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">+</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">+</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">-</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">-</span></code>
</span>. <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">+</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">+</span></code>
</span> is default if omitted.</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span>: shift left bits, from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">63</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">63</span></code>
</span>, optional, default is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span> if omitted</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">s</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">s</span></code>
</span>: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">+</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">+</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">-</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">-</span></code>
</span>, padding with <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, optional, if provided, manual padding</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">d</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">d</span></code>
</span>: shift direction and type, optional, default is left logical shift if omitted <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">&lt;</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">&lt;</span></code>
</span> for shift left logical, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">&gt;</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">&gt;</span></code>
</span> for shift right logical, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">&gt;&gt;</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">&gt;&gt;</span></code>
</span> for shift right arithmetic, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">rol</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">rol</span></code>
</span> for roll left, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ror</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ror</span></code>
</span> for roll right, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">lp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">lp</span></code>
</span> for manual padding shift</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">s</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">s</span></code>
</span>: padding bit, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span> for <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">+</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">+</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span> for <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">-</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">-</span></code>
</span>, available only when l is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">d</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">d</span></code>
</span>: shift direction, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span> for left, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span> for right</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">l</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">l</span></code>
</span>: shift type code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: logical shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: arithmetic shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: roll shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: manual padding shift</li>
                </ul>
              </li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span>: 6 bits shift left bits</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">k</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">k</span></code>
</span>: short process flag, if read as <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>, treat as shift left logical with <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">shl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">shl</span></code>
</span> bits shift.</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov offset dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov offset dst, val</span></code>
</span></li>
          <li>Type code: 1 / 2, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RI</span></code>
</span> / <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RI</span></code>
</span>, if literal have 16th bit set, use second type code, otherwise use first type code</li>
          <li>
            <p>Description: move immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">low16</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">low16</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">high16</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">high16</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">low16h</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">low16h</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">high16h</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">high16h</span></code>
</span> for low 16 or high 16 bits in totally low 32 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> or low 16 or high 16 bits in totally high 32 bits of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>.</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>: immediate value</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: target offset</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">o</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">o</span></code>
</span>: 2 bits offset code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: low 16</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: high 16</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: low 16h</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: high 16h</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr[dst], offset src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr[dst], offset src</span></code>
</span></li>
          <li>Type code: 3, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(1)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(1)</span></code>
</span></li>
          <li>
            <p>Description: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span> for source data offset</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span>: data size</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: source data offset</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits source data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">o</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">o</span></code>
</span>: 2 bits source data offset</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: 0</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: 1</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: 2</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: 4</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov offset dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov offset dst, ptr[src]</span></code>
</span></li>
          <li>Type code: 4, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(2)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(2)</span></code>
</span></li>
          <li>
            <p>Description: deference memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> and move data to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size, offset can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span> for target data offset</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span>: data size</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: target data offset</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits target data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">o</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">o</span></code>
</span>: 2 bits target data offset</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: 0</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: 1</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: 2</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: 4</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr [dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr [dst], [src]</span></code>
</span></li>
          <li>Type code: 5, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: move data from memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span>: data size</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register + Immediate) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov dst, ptr[base + offset]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov dst, ptr[base + offset]</span></code>
</span></li>
          <li>Type code: 6, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RRI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RRI</span></code>
</span></li>
          <li>
            <p>Description: move data from memory address calculated by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span> register plus immediate <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span> to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span>: base register for memory address calculation</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: immediate offset for memory address calculation</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
      <li>
        <p>Address(Register + Immediate)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:mov ptr[base + offset], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:mov ptr[base + offset], src</span></code>
</span></li>
          <li>Type code: 7, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RIR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RIR</span></code>
</span></li>
          <li>
            <p>Description: move data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> to memory address calculated by <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span> register plus immediate <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">base</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">base</span></code>
</span>: base register for memory address calculation</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: immediate offset for memory address calculation</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
    </ul>
    <p>All other combination of source and target operand are invalid for <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span> instruction.</p>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov</span></code>
</span> instruction copies data from source operand to target operand directly.</p>
    <p>The whole <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mov</span></code>
</span> instruction family can be divided into three categories:</p>
    <ul>
      <li>register to register move, including register-register variant, simply copy data between registers, with optional shift operation. Shift operation may be applied during data move. Depend on shift type and direction, data in source register will be shifted left or right by specified bits, and then moved to target register. For most case without shift operation, data in source register is copied directly to target register. <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst </span><span style="color:#f57d26;">=</span><span style="color:#5c6a72;"> src</span><span style="color:#5c6a72;">;</span><span style="color:#5c6a72;"> </span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst </span><span style="color:#e69875;">=</span><span style="color:#d3c6aa;"> src</span><span style="color:#d3c6aa;">;</span><span style="color:#d3c6aa;"> </span></code>
</span> For rest case with default shift operation, data int source register is shifted left logically by specified bits, and then moved to target register. <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst </span><span style="color:#f57d26;">=</span><span style="color:#5c6a72;"> src </span><span style="color:#f57d26;">&lt;&lt;</span><span style="color:#5c6a72;"> shl</span><span style="color:#5c6a72;">;</span><span style="color:#5c6a72;"> </span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst </span><span style="color:#e69875;">=</span><span style="color:#d3c6aa;"> src </span><span style="color:#e69875;">&lt;&lt;</span><span style="color:#d3c6aa;"> shl</span><span style="color:#d3c6aa;">;</span><span style="color:#d3c6aa;"> </span></code>
</span> For rest case with specified shift operation, data in source register is shifted depend on shift type and direction, and then moved to target register. By register to register move, the user can simulate 32 bits general-purposed register, like in Risc-V or x86_64 architecture.</li>
      <li>immediate to register move, including register-immediate variant I and II, move immediate value to target register directly. The immediate value have 15 bits stored in instruction, the 16th bit distinguished by type code. For register-immediate variant I, 16th bit is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>, for register-immediate variant II, 16th bit is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>. The immediate value can be assigned to corresponding double-word in target register depend on offset parameter. Since the flags have 2 bits offset code, all four double-words in target register can be assigned separately.</li>
      <li>
        <p>register to memory, memory to register and memory to memory move, including RR, RR, RR, RR, RRI, RIR variants, Addressing using register, or register plus immediate offset. Basically read value in register and or add immediate to the value, addressing global data stack using the value as memory address. Data size and data offset must be specified by flags. For data size:</p>
        <ul>
          <li>0 means qword (8 bytes)</li>
          <li>1 means bytes (1 byte)</li>
          <li>2 means word (2 bytes)</li>
          <li>3 means dword (4 bytes)</li>
        </ul>
        <p>For data offset:</p>
        <ul>
          <li>0 means offset 0</li>
          <li>1 means offset 1</li>
          <li>2 means offset 2</li>
          <li>3 means offset 4</li>
        </ul>
        <p>RR variant with Addressing(Register)-Addressing(Register) must have o with 0 For RR(A(R)R) or RRI variant, Read ss bytes data from source memory address and write ss bytes data to target register with offset o. For RR(RA(R)) or RIR variant, Read ss bytes data from source register with offset o and write ss bytes data to target memory address. For RR(A(R)A(R)) variant, Read ss bytes data from source memory address and write ss bytes data to target memory address.</p>
      </li>
    </ul>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/LSD-6">6</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/LSD" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span> [/notes/d_flat/VM/Instruction/LSD]">[LSD]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span> instruction is used to load or save data between global data stack and register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span> instruction have one immediate parameter.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:lsd op idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:lsd op idx</span></code>
</span></li>
      <li>
        <p>Description: load or save data between global data stack and register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span></p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: operation type, can be one of following:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">load</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">load</span></code>
</span>: load data from global data stack to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">save</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">save</span></code>
</span>: save data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> to global data stack</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadr</span></code>
</span>: load data from global data stack to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">saver</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">saver</span></code>
</span>: save data from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> to global data stack</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadc</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadc</span></code>
</span>: load pre-defined data to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Flags:</p>
        <ul>
          <li>
            <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">typ</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">typ</span></code>
</span>: 3 bits operation type code</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">000</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">000</span></code>
</span>: load</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">001</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">001</span></code>
</span>: save</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">010</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">010</span></code>
</span>: load into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">011</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">011</span></code>
</span>: save from <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">100</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">100</span></code>
</span>: load constant</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <p>For the case of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">load</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">load</span></code>
</span> operation, data is loaded from global data stack with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> into target register. For the case of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">save</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">save</span></code>
</span> operation, data is saved from register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> into global data stack with <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> For the case of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadr</span></code>
</span> operation, data is loaded from global data stack with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> into target register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>. For the case of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">saver</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">saver</span></code>
</span> operation, data is saved from register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> into global data stack with <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span>. For the case of <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loadc</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loadc</span></code>
</span> operation, pre-defined data with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> is loaded into target register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>. Index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> can be:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>: unsigned 64-bit integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>: unsigned 64-bit integer maximum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>: unsigned 64-bit integer minimum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">3</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">3</span></code>
</span>: signed 64-bit integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>: signed 64-bit integer maximum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">5</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">5</span></code>
</span>: signed 64-bit integer minimum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">6</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">6</span></code>
</span>: IEEE 754 double-precision floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0.0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0.0</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">7</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">7</span></code>
</span>: IEEE 754 double-precision floating-point maximum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">8</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">8</span></code>
</span>: IEEE 754 double-precision floating-point minimum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">9</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">9</span></code>
</span>: IEEE 754 double-precision floating-point Not-a-Number (NaN)</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: IEEE 754 double-precision floating-point positive infinity</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: IEEE 754 double-precision floating-point negative infinity</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">12</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">12</span></code>
</span>: IEEE 754 single-precision floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0.0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0.0</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">13</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">13</span></code>
</span>: IEEE 754 single-precision floating-point maximum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">14</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">14</span></code>
</span>: IEEE 754 single-precision floating-point minimum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">15</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">15</span></code>
</span>: IEEE 754 single-precision floating-point Not-a-Number (NaN)</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">16</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">16</span></code>
</span>: IEEE 754 single-precision floating-point positive infinity</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">17</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">17</span></code>
</span>: IEEE 754 single-precision floating-point negative infinity</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">18</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">18</span></code>
</span>: boolean <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">true</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">true</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">19</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">19</span></code>
</span>: boolean <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">false</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">false</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">20</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">20</span></code>
</span>: character <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">&#39;\0&#39;</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">&#39;\0&#39;</span></code>
</span></li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">21</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">21</span></code>
</span>: character maximum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">22</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">22</span></code>
</span>: character minimum value</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">23</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">23</span></code>
</span>: null pointer</li>
    </ul>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">lsd</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">lsd</span></code>
</span> instruction provides a simple way to load or save data between global data stack and register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> or <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/OpI-7">7</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/OpI" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> [/notes/d_flat/VM/Instruction/OpI]">[OpI]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> instruction is used to perform arithmetic integer computation.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |                 | op| typ | operator  |
</span><span style="color:#5c6a72;">RR(1)         | register  | register  |             |ss | op| typ | operator  |
</span><span style="color:#5c6a72;">RI            | register  | literal                     | op| typ | operator  |
</span><span style="color:#5c6a72;">IR            | register  | literal                     | op| typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |                 | op| typ | operator  |
</span><span style="color:#d3c6aa;">RR(1)         | register  | register  |             |ss | op| typ | operator  |
</span><span style="color:#d3c6aa;">RI            | register  | literal                     | op| typ | operator  |
</span><span style="color:#d3c6aa;">IR            | register  | literal                     | op| typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, src</span></code>
</span></li>
          <li>Type code: 0, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, val</span></code>
</span></li>
          <li>Type code: 1, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RI</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> can be at most 15 bits integer, or 14 bits signed integer</li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>: immediate value</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Immediate-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op val, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op val, src</span></code>
</span></li>
          <li>Type code: 2, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IR</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> can be at most 15 bits integer, or 14 bits signed integer</li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>: immediate value</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op dst, ptr[src]</span></code>
</span></li>
          <li>Type code: 3, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(1)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(1)</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits source data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op ptr[dst], src</span></code>
</span></li>
          <li>Type code: 4, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(1)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(1)</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and integer <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits target data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opi op prt[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opi op prt[dst], [src]</span></code>
</span></li>
          <li>Type code: 5, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and integer memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">bytes</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">bytes</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">word</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">word</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">4</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">4</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: qword</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: bytes</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: word</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">11</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">11</span></code>
</span>: dword</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> support following arithmetic operations:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">add</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">add</span></code>
</span>: addition</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">sub</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">sub</span></code>
</span>: subtraction</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">mul</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">mul</span></code>
</span>: multiplication</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">div</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">div</span></code>
</span>: division</li>
    </ul>
    <p>After <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> instruction executed, original <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> values are overwritten.</p>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span> instruction performs arithmetic operation on integer data. And store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, carry or reminder into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>. For addition operation, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> treated as addend, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> treated as addor, For subtraction operation, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> treated as minuend, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> treated as subtrahend, For multiplication operation, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> treated as multiplicand, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> treated as multiplier, For division operation, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> treated as dividend, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span> treated as divisor.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/OpF-8">8</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/OpF" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span> [/notes/d_flat/VM/Instruction/OpF]">[OpF]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span> instruction is used to perform arithmetic floating-point computation.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |             |ss | op| typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |             |ss | op| typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op dst, src</span></code>
</span></li>
          <li>Type code: 0, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits source data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op dst, ptr[src]</span></code>
</span></li>
          <li>Type code: 1, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(1)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(1)</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">float128</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">float128</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits source data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op ptr[dst], src</span></code>
</span></li>
          <li>Type code: 2, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR(1)</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR(1)</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and floating-point <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">float128</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">float128</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits target data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf op ptr[dst], [src]</span></code>
</span></li>
          <li>Type code: 3, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and floating-point memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ptr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ptr</span></code>
</span> can be <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">qword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">qword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">0</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">0</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dword</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dword</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">1</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">1</span></code>
</span>), <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">float128</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">float128</span></code>
</span>(<span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">2</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">2</span></code>
</span>) for data size</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Register Modulus variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf fmod dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf fmod dst, src</span></code>
</span></li>
          <li>Type code: 4, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform floating-point modulus operation on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits source data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) Modulus variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opf fmod ptr [dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opf fmod ptr [dst], [src]</span></code>
</span></li>
          <li>Type code: 5, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform floating-point modulus operation on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, reminder or high 64 bits of float 128 into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span>: 2 bits data size code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">00</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">00</span></code>
</span>: double-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">01</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">01</span></code>
</span>: single-precision</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>: float 128</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <p>If <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span> is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>, float 128 operation is performed, and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> store high 64 bits of result. If <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ss</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ss</span></code>
</span> is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">10</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">10</span></code>
</span>, type code must be 3 or 5, only when both operands are memory address.</p>
    <p>After <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span> instruction executed, original <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> values are overwritten.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/OpB-9">9</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/OpB" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span> [/notes/d_flat/VM/Instruction/OpB]">[OpB]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span> instruction is used to perform bitwise computation.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |                 |op | typ | operator  |
</span><span style="color:#5c6a72;">RI            | register  | literal                     |op | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |                 |op | typ | operator  |
</span><span style="color:#d3c6aa;">RI            | register  | literal                     |op | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, src</span></code>
</span></li>
          <li>Type code: 0, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, val</span></code>
</span></li>
          <li>Type code: 1, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RI</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> can be at most 15 bits integer, or 14 bits signed integer</li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>: immediate value</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], src</span></code>
</span></li>
          <li>Type code: 2, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op dst, ptr[src]</span></code>
</span></li>
          <li>Type code: 3, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], [src]</span></code>
</span></li>
          <li>Type code: 4, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:opb op ptr[dst], val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:opb op ptr[dst], val</span></code>
</span></li>
          <li>Type code: 5, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RI</span></code>
</span>, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span> can be at most 15 bits integer, or 14 bits signed integer</li>
          <li>
            <p>Description: perform arithmetic operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on bitwise memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> and immediate value <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">val</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">val</span></code>
</span>: immediate value</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: arithmetic operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: 2 bits operation code</li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span> support following bitwise operations:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">and</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">and</span></code>
</span>: bitwise AND</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">or</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">or</span></code>
</span>: bitwise OR</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">xor</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">xor</span></code>
</span>: bitwise XOR</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">not</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">not</span></code>
</span>: bitwise NOT</li>
    </ul>
    <p>For the case <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> is <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">not</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">not</span></code>
</span>, operation result of performance to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> will be stored into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, and other will be written to <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span>. For all other operations, result will be stored into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span>, and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#R</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#R</span></code>
</span> is not modified.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/OpS-10">10</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/OpS" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span> [/notes/d_flat/VM/Instruction/OpS]">[OpS]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span> instruction is used to perform shift computation.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |               | opt | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |               | opt | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op dst, src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op dst, src</span></code>
</span></li>
          <li>Type code: 0, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by bits in <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: shift operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">opt</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">opt</span></code>
</span>: 3 bits operation code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">000</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">000</span></code>
</span>: logical left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">001</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">001</span></code>
</span>: logical right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">010</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">010</span></code>
</span>: arithmetic left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">011</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">011</span></code>
</span>: arithmetic right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">100</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">100</span></code>
</span>: rotate left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">101</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">101</span></code>
</span>: rotate right</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">110</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">110</span></code>
</span>: rotate through carry left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">111</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">111</span></code>
</span>: rotate through carry right</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Register-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op dst, ptr[src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op dst, ptr[src]</span></code>
</span></li>
          <li>Type code: 1, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by bits in memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: shift operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">opt</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">opt</span></code>
</span>: 3 bits operation code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">000</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">000</span></code>
</span>: logical left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">001</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">001</span></code>
</span>: logical right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">010</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">010</span></code>
</span>: arithmetic left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">011</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">011</span></code>
</span>: arithmetic right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">100</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">100</span></code>
</span>: rotate left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">101</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">101</span></code>
</span>: rotate right</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">110</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">110</span></code>
</span>: rotate through carry left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">111</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">111</span></code>
</span>: rotate through carry right</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op ptr[dst], src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op ptr[dst], src</span></code>
</span></li>
          <li>Type code: 2, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by bits in <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: shift operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">opt</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">opt</span></code>
</span>: 3 bits operation code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">000</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">000</span></code>
</span>: logical left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">001</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">001</span></code>
</span>: logical right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">010</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">010</span></code>
</span>: arithmetic left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">011</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">011</span></code>
</span>: arithmetic right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">100</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">100</span></code>
</span>: rotate left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">101</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">101</span></code>
</span>: rotate right</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">110</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">110</span></code>
</span>: rotate through carry left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">111</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">111</span></code>
</span>: rotate through carry right</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
      <li>
        <p>Address(Register)-Address(Register) variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ops op ptr[dst], [src]</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ops op ptr[dst], [src]</span></code>
</span></li>
          <li>Type code: 3, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RR</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RR</span></code>
</span></li>
          <li>
            <p>Description: perform shift operation <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span> on memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> by bits in memory address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>, store result into <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#A</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#A</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">src</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">src</span></code>
</span>: source memory address register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">op</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">op</span></code>
</span>: shift operation</li>
            </ul>
          </li>
          <li>
            <p>Flags:</p>
            <ul>
              <li>
                <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">opt</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">opt</span></code>
</span>: 3 bits operation code</p>
                <ul>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">000</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">000</span></code>
</span>: logical left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">001</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">001</span></code>
</span>: logical right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">010</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">010</span></code>
</span>: arithmetic left shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">011</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">011</span></code>
</span>: arithmetic right shift</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">100</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">100</span></code>
</span>: rotate left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">101</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">101</span></code>
</span>: rotate right</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">110</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">110</span></code>
</span>: rotate through carry left</li>
                  <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">111</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">111</span></code>
</span>: rotate through carry right</li>
                </ul>
              </li>
            </ul>
          </li>
        </ul>
      </li>
    </ul>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Test-11">11</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Test" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span> [/notes/d_flat/VM/Instruction/Test]">[Test]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span> instruction is used to test condition and jump to target address if condition is met.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">II            | literal       | literal       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">II            | literal       | literal       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span> instruction have one immediate parameter.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:test cond, addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:test cond, addr</span></code>
</span></li>
      <li>
        <p>Description: test condition <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">cond</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">cond</span></code>
</span>, if met, jump to target address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">addr</span></code>
</span></p>
        <ul>
          <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">cond</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">cond</span></code>
</span>: condition to be tested</li>
          <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">addr</span></code>
</span>: target address to jump to if condition is met</li>
        </ul>
      </li>
      <li>Flags: none</li>
    </ul>
    <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">cond</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">cond</span></code>
</span> are integer indeed, can be written as following to prevent confusion:</p>
    <ul>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#e</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#e</span></code>
</span>, 0, equal, zero flag is set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#g</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#g</span></code>
</span>, 1, greater, not equal and sign flag equals overflow flag</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#ng</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#ng</span></code>
</span>, 2, not greater, equal or sign flag not equals overflow flag</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#l</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#l</span></code>
</span>, 3, less, sign flag not equals overflow flag</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#nl</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#nl</span></code>
</span>, 4, not less, sign flag equals overflow flag</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#o</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#o</span></code>
</span>, 5, overflow, overflow flag is set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#no</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#no</span></code>
</span>, 6, not overflow, overflow flag is not set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#c</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#c</span></code>
</span>, 7, carry, carry flag is set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#nc</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#nc</span></code>
</span>, 8, not carry, carry flag is not set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#z</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#z</span></code>
</span>, 9, zero, zero flag is set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#nz</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#nz</span></code>
</span>, 10, not zero, not zero flag is set</li>
      <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test#s</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test#s</span></code>
</span>, 11, sign, sign flag is set</li>
    </ul>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Jmp-12">12</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Jmp" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span> [/notes/d_flat/VM/Instruction/Jmp]">[Jmp]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span> instruction is used to jump to target address unconditionally.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">RI            | register  | literal                     |   | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">RI            | register  | literal                     |   | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp short dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp short dst</span></code>
</span></li>
          <li>Type code: 0, R</li>
          <li>
            <p>Description: jump to target address in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
      <li>
        <p>Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp near offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp near offset</span></code>
</span></li>
          <li>Type code: 1, I</li>
          <li>
            <p>Description: jump to address offset with <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span> from function entry point.</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: target address offset</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
      <li>
        <p>Register-Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:jmp far dst, offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:jmp far dst, offset</span></code>
</span></li>
          <li>Type code: 2, RI</li>
          <li>
            <p>Description: jump to function with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span> in function unit vector, plus address offset <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">offset</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">offset</span></code>
</span>: immediate offset</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
    </ul>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">jmp</span></code>
</span> instruction provides a way to jump to target address unconditionally. Used for control flow transfer in program execution.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Loop-13">13</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Loop" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span> [/notes/d_flat/VM/Instruction/Loop]">[Loop]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span> instruction is used to perform loop operation with counter register.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span> instruction have no parameters.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:loop addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:loop addr</span></code>
</span></li>
      <li>
        <p>Description: decrement counter register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#C</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#C</span></code>
</span>, if not zero, jump to target address <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">addr</span></code>
</span></p>
        <ul>
          <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">addr</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">addr</span></code>
</span>: target address to jump to if counter not zero</li>
        </ul>
      </li>
      <li>Flags: none</li>
    </ul>
    <p>Loop like x86 <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">loop</span></code>
</span> instruction, decrement counter register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#C</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#C</span></code>
</span> by 1.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Call-14">14</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Call" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span> [/notes/d_flat/VM/Instruction/Call]">[Call]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span> instruction is used to call function at target address.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#5c6a72;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code
</span><span style="color:#5c6a72;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use
</span><span style="color:#5c6a72;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Register      | register  |                                 | typ | operator  |
</span><span style="color:#d3c6aa;">Immediate     | literal                       |             | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code
</span><span style="color:#d3c6aa;">* literal: literal constant value, either in 16 bits or 8 bits integer.
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use
</span><span style="color:#d3c6aa;">* RI and IR are two variant of same instruction, distinguish by instruction type</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span> instruction have following variants:</p>
    <ul>
      <li>
        <p>Register variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:call dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:call dst</span></code>
</span></li>
          <li>Type code: 0, R</li>
          <li>
            <p>Description: call function at target address in register <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span></p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">dst</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">dst</span></code>
</span>: target register</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
      <li>
        <p>Immediate variant:</p>
        <ul>
          <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:call idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:call idx</span></code>
</span></li>
          <li>Type code: 1, I</li>
          <li>
            <p>Description: call function with index <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span> in function unit vector</p>
            <ul>
              <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">idx</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">idx</span></code>
</span>: target index</li>
            </ul>
          </li>
          <li>Flags: none</li>
        </ul>
      </li>
    </ul>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">call</span></code>
</span> instruction provides a way to call function. All necessary function call setup must be done before <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">call</span></code>
</span> instruction executed. Top of execution stack always trace both pointer to function and the execution status of the function. Thus return address is stored automatically when <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">call</span></code>
</span> instruction executed. Call instruction pushes new execution context onto execution stack.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Ret-15">15</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Ret" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span> [/notes/d_flat/VM/Instruction/Ret]">[Ret]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span> instruction is used to return from function call.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span> instruction have no parameters.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:ret</span></code>
</span></li>
      <li>Description: return from current function call to caller function</li>
      <li>Flags: none</li>
    </ul>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ret</span></code>
</span> instruction provides a way to return from function call. When <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">ret</span></code>
</span> instruction executed, current execution context is popped from execution stack, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#PC</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#PC</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Reg#EP</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Reg#EP</span></code>
</span> restored to caller function's context.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/IRet-16">16</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/IRet" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span> [/notes/d_flat/VM/Instruction/IRet]">[IRet]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span> instruction is used to return from interruption handler.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* flags: reserved space, for instruction extension use</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">Zero          | flags                                       | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* flags: reserved space, for instruction extension use</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span> instruction have no parameters.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:iret</span></code>
</span></li>
      <li>Description: return from current interruption handler to interrupted context</li>
      <li>Flags: none</li>
    </ul>
    <p>Basically, <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">iret</span></code>
</span> instruction provides a way to return from interruption handler. When <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">iret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">iret</span></code>
</span> instruction executed, register information stored when interruption occurs is restored. Execution stack pop and continues execution of previous executed function.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/RegF-17">17</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/RegF" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span> [/notes/d_flat/VM/Instruction/RegF]">[RegF]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span> instruction is used to register a new function.</p>
  <pre color-scheme="light"><code><span style="color:#5c6a72;">0x
</span><span style="color:#5c6a72;">              20              18              10              08              00
</span><span style="color:#5c6a72;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#5c6a72;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#5c6a72;">--------------------------------------------------------------------------------
</span><span style="color:#5c6a72;">RR            | register  | register  |                     | typ | operator  |
</span><span style="color:#5c6a72;">
</span><span style="color:#5c6a72;">* registers: 6 bits register code</span></code></pre>
  
  <pre color-scheme="dark"><code><span style="color:#d3c6aa;">0x
</span><span style="color:#d3c6aa;">              20              18              10              08              00
</span><span style="color:#d3c6aa;">              |3 3 2 2 2 2 2 2|2 2 2 2 1 1 1 1|1 1 1 1 1 1 0 0|0 0 0 0 0 0 0 0|
</span><span style="color:#d3c6aa;">Decimal       |1 0 9 8 7 6 5 4|3 2 1 0 9 8 7 6|5 4 3 2 1 0 9 8|7 6 5 4 3 2 1 0|
</span><span style="color:#d3c6aa;">--------------------------------------------------------------------------------
</span><span style="color:#d3c6aa;">RR            | register  | register  |                     | typ | operator  |
</span><span style="color:#d3c6aa;">
</span><span style="color:#d3c6aa;">* registers: 6 bits register code</span></code></pre>
<p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span> instruction have two parameters.</p>
    <ul>
      <li>Syntax: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">:regf skip, len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">:regf skip, len</span></code>
</span></li>
      <li>
        <p>Description: register a new function with code length <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">len</span></code>
</span>, skip <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">skip</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">skip</span></code>
</span> bytes after registration</p>
        <ul>
          <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">skip</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">skip</span></code>
</span>: number of bytes to skip after registration</li>
          <li><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">len</span></code>
</span>: length of function code in bytes</li>
        </ul>
      </li>
      <li>Flags: none</li>
    </ul>
    <p>The <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span> instruction creates a new function unit and assign the text with given data. If <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">skip</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">skip</span></code>
</span> and <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">len</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">len</span></code>
</span> is not aligned to instruction size a invalided instruction exception will be raised.</p>
    </details>
  </section>

  <section class="block" data-taxon="">
    <details open="">
      <summary style="font-size: 117%;">
        <header show-metadata="true">
          
<span id="notes/d_flat/VM/Instruction/Stack-18">18</span>
 
      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Stack</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Stack</span></code>
</span>
 <a class="slug" href="/notes/d_flat/VM/Instruction/Stack" title="Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Stack</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Stack</span></code>
</span> [/notes/d_flat/VM/Instruction/Stack]">[Stack]</a>
          <div class="metadata">
            <ul>
              <li class="meta-item">2025-12-14 23:46</li>
              <li class="meta-item"><span class="link external"><a href="https://github.com/mujiu555" title="https://github.com/mujiu555">GitHub@mujiu555</a></span></li>
            </ul>
          </div>
        </header>
      </summary>
      <p><span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Stack</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Stack</span></code>
</span> instruction is used to manipulate global data stack.</p>
    </details>
  </section>

 
        </details>
      </section>
      
    


    </article>
    
    <nav id="toc">
        <div class="block">
            <h1>Table of Contents</h1>
            <ul class="block">
            

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction">
<span id="notes/d_flat/VM/Instruction"></span>
Instruction Specification</a></span>
    <ul class="block" style="display: block;">
      
  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/IS-1">
<span id="notes/d_flat/VM/Instruction/IS-1">1</span>

      <span class="taxon"></span> Instruction Set
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Int-2">
<span id="notes/d_flat/VM/Instruction/Int-2">2</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Int</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Int</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Snap-3">
<span id="notes/d_flat/VM/Instruction/Snap-3">3</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Snap</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Snap</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Raise-4">
<span id="notes/d_flat/VM/Instruction/Raise-4">4</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Raise</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Raise</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Mov-5">
<span id="notes/d_flat/VM/Instruction/Mov-5">5</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Mov</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Mov</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/LSD-6">
<span id="notes/d_flat/VM/Instruction/LSD-6">6</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">LSD</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">LSD</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/OpI-7">
<span id="notes/d_flat/VM/Instruction/OpI-7">7</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpI</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpI</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/OpF-8">
<span id="notes/d_flat/VM/Instruction/OpF-8">8</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpF</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/OpB-9">
<span id="notes/d_flat/VM/Instruction/OpB-9">9</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpB</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpB</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/OpS-10">
<span id="notes/d_flat/VM/Instruction/OpS-10">10</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">OpS</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">OpS</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Test-11">
<span id="notes/d_flat/VM/Instruction/Test-11">11</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Test</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Test</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Jmp-12">
<span id="notes/d_flat/VM/Instruction/Jmp-12">12</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Jmp</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Jmp</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Loop-13">
<span id="notes/d_flat/VM/Instruction/Loop-13">13</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Loop</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Loop</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Call-14">
<span id="notes/d_flat/VM/Instruction/Call-14">14</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Call</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Call</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Ret-15">
<span id="notes/d_flat/VM/Instruction/Ret-15">15</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Ret</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Ret</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/IRet-16">
<span id="notes/d_flat/VM/Instruction/IRet-16">16</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">IRet</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">IRet</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/RegF-17">
<span id="notes/d_flat/VM/Instruction/RegF-17">17</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">RegF</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">RegF</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

  <li class="item-summary">
    <a class="bullet">■</a>
    <span class="link"><a href="#notes/d_flat/VM/Instruction/Stack-18">
<span id="notes/d_flat/VM/Instruction/Stack-18">18</span>

      <span class="taxon"></span> Instruction: <span style="display: inline-block;">

<code color-scheme="light"><span style="color:#5c6a72;">Stack</span></code>
<code color-scheme="dark"><span style="color:#d3c6aa;">Stack</span></code>
</span>
</a></span>
    <ul class="block" style="display: block;">
      
    </ul>
  </li>

    </ul>
  </li>


            </ul>
        </div>
    </nav>
 
  </div>


</body>
</html>